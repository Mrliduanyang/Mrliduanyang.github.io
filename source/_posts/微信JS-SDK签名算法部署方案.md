---
title: 微信JS-SDK签名算法部署方案
date: 2020-06-14 16:53:24
categories: 前端
---

## 0x00 遇到的问题

在业务中，遇到一个需要调用微信客户端扫码功能的场景，查阅资料发现需要使用微信JS-SDK来调用微信的扫一扫功能。但在调用JS-SDK中接口时，需要提供签名校验。在部署该签名算法的过程中遇到几个问题，记录一下，以作备忘。

## 0x01 解决方案

按微信官方的解决方案去自己实现签名服务是不可能的，要有不造轮子的觉悟。直接从GitHub上搜索可行的签名服务，有用PHP写的，有用Go写的。选了一个NodeJs写的[node.js-wechat-js-sdk](https://github.com/givebest/node.js-wechat-js-sdk)，装好Node环境，配置appid、appsecret，启动运行。测试签名服务自带的实例程序，扫一扫功能可以调用。开始考虑把签名服务应用在自己的业务中。

业务主要是静态页面，放在Nginx服务器上。因此签名服务只能部署在非80端口，在静态页中，通过请求服务的方式调用。在部署过程中，需要注意按照微信文档文档的教程配置非签名的部分。

